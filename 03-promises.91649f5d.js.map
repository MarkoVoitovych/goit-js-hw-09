{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SA0BA,SAASC,EAAcC,EAAUC,GAE/B,OADsBC,KAAKC,SAAW,GAE7BC,QAAQC,QAAQ,C,SAAEL,E,MAAUC,IAE5BG,QAAQE,OAAO,C,SAAEN,E,MAAUC,G,CAItC,SAASM,EAAcP,EAAUC,GAC/BJ,EAAAW,OAAOC,QAAQ,sBAAoBT,QAAiBC,MAAW,CAC3DS,QAAO,IACTC,cAAc,EACdC,cAAc,EACdC,oBAAoB,G,CAIxB,SAASC,EAAcd,EAAUC,GAC/BJ,EAAAW,OAAOO,QAAQ,uBAAqBf,QAAeC,MAAW,CAC5DS,QAAS,IACTC,cAAc,EACdC,cAAc,EACdC,oBAAoB,G,EA/CX,CACXG,KAAMC,SAASC,cAAc,WAG1BF,KAAKG,iBAAiB,UAE3B,SAAsBC,GACpBA,EAAEC,iBACF,MAAQpB,MAAAqB,EAAKC,KAAEA,EAAIC,OAAEA,GAAWJ,EAAEK,cAAcC,SAEhD,IAAK,IAAIC,EAAI,EAAGA,GAAKH,EAAOI,MAAOD,GAAK,EAAG,CACzC,MAAME,GAAgBP,EAAMM,MAAQD,EAAIJ,EAAKK,MAC7CE,YAAW,KACT/B,EAAc4B,EAAGE,GACdE,MAAK,EAAC/B,SAAEA,EAAQC,MAAEA,MACjBa,EAAcd,EAAUC,EAAM,IAE/B+B,OAAM,EAAChC,SAAEA,EAAQC,MAAEA,MAClBM,EAAcP,EAAUC,EAAM,GAC9B,GACH4B,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  form: document.querySelector('.form'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const { delay, step, amount } = e.currentTarget.elements;\n\n  for (let i = 1; i <= amount.value; i += 1) {\n    const currentDelay = +delay.value + i * step.value;\n    setTimeout(() => {\n      createPromise(i, currentDelay)\n        .then(({ position, delay }) => {\n          notifySuccess(position, delay);\n        })\n        .catch(({ position, delay }) => {\n          notifyFailure(position, delay);\n        });\n    }, currentDelay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    return Promise.resolve({ position, delay });\n  } else {\n    return Promise.reject({ position, delay });\n  }\n}\n\nfunction notifyFailure(position, delay) {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`, {\n    timeout: 4000,\n    clickToClose: true,\n    pauseOnHover: false,\n    showOnlyTheLastOne: false,\n  });\n}\n\nfunction notifySuccess(position, delay) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`, {\n    timeout: 4000,\n    clickToClose: true,\n    pauseOnHover: false,\n    showOnlyTheLastOne: false,\n  });\n}"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","Math","random","Promise","resolve","reject","$47d4ff9957288465$var$notifyFailure","Notify","failure","timeout","clickToClose","pauseOnHover","showOnlyTheLastOne","$47d4ff9957288465$var$notifySuccess","success","form","document","querySelector","addEventListener","e","preventDefault","delay1","step","amount","currentTarget","elements","i","value","currentDelay","setTimeout","then","catch"],"version":3,"file":"03-promises.91649f5d.js.map"}